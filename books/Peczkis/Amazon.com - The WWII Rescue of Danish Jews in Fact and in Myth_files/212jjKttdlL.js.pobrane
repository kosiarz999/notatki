(function(d){var f=window.AmazonUIPageJS||window.P,k=f._namespace||f.attributeErrors,c=k?k("AirstreamCommonAssets",""):f;c.guardFatal?c.guardFatal(d)(c,window):c.execute(function(){d(c,window)})})(function(d,f,k){d.register("aux-save-constants",function(){return{SAVE:"save",UNSAVE:"unsave",CLASS_SAVED:"airstream-state-saved",CLASS_UNSAVED:"airstream-state-save"}});d.register("aux-save-events",function(){return{onSaveStateChangedEvent:"s:saves:on_save_state_changed",onSaveFailedEvent:"s:saves:on_save_failed",
onCacheUpdateEvent:"s:saves:on_save_cache_updated",onHeartComponentStateChangedEvent:"aux:heart:on_save_state_changed"}});d.when("A","ready").execute(function(c){var a=c.$,e=c.state("pageInfo")||{},b=function(e,b,g,c){e&&0<a(b).length&&0<a(g).length&&(e=a(f).scrollTop(),g=a(g).position().top,e<=g?a(b).addClass(c):a(b).removeClass(c))};a(f).bind("load resize scroll",function(){if(!e.isDesktop&&0<a(".aux-bottom-nav-container").length&&0<a("#aux-bottom-nav-container-fixed").length){var b=a(f).scrollTop()+
a(f).height(),c=a("#aux-bottom-nav-container-fixed").position().top+a(".aux-bottom-nav-container").height();b>=c?a(".aux-bottom-nav-container").addClass("aux-end-of-page"):a(".aux-bottom-nav-container").removeClass("aux-end-of-page")}});a(f).bind("load resize scroll",function(){b(e.isDesktop,".finds-top-nav","#finds-top-nav-holder","finds-top-nav-beginning-of-page")});a(f).bind("load resize scroll",function(){b(!e.isApp,".explore-top-nav","#explore-top-nav-holder","explore-top-nav-beginning-of-page")})});
"use strict";d.when("A","airstream-pageSource-node").register("airstream-pageSource-node-controller",function(c,a){return{create:function(){var e=null;return{add:function(b){return e=b=new a(b,e)},next:function(b){return new a(b,e)},remove:function(){e&&null!==e.parent&&(e=e.parent)},curNode:function(){return e}}}}});d.register("airstream-pageSource-node",function(){return function(c,a){function e(){return b+":"+t}var b=c?c.key||"null":"null",t=c?c.value||"null":"null";return{key:b,value:t,layer:a&&
a.layer?a.layer+1:0,parent:a,toString:e,fullPath:function(){var b=a,g="",c=[];for(c.push(e());null!==b;)c.push(b.toString()),b=b.parent;for(;c.length;)g+=c.pop(),g+=";";return g}}}});"use strict";d.when("airstream-login-handle").register("airstream-login",function(c){var a="\x26openid.assoc_handle\x3d"+c.getHandle();return{redirectToLogin:function(){var c=document.createElement("a"),b;c.href=f.location.href;b="https://"+c.hostname;c.protocol="https:";c="\x26openid.return_to\x3d"+encodeURIComponent(c.href);
f.location=b+"/ap/signin?_encoding\x3dUTF8"+a+"\x26openid.claimed_id\x3dhttp://specs.openid.net/auth/2.0/identifier_select\x26openid.identity\x3dhttp://specs.openid.net/auth/2.0/identifier_select\x26openid.mode\x3dcheckid_setup\x26openid.ns\x3dhttp://specs.openid.net/auth/2.0"+c}}});"use strict";d.when("A","ready").register("airstream-login-handle",function(){return{getHandle:function(){return"amzn_airstream_desktop_us"}}});d.when("A").register("as-dom-utils",function(c){function a(c,b){var a=c.getBoundingClientRect(),
h=0;b&&b.minHeightPercentage&&(h=a.height-a.height*b.minHeightPercentage);var g=0;b&&b.minWidthPercentage&&(g=a.width-a.width*b.minWidthPercentage);if(b&&b.windowElement){var m=b.windowElement[0].getBoundingClientRect();return a.top>=m.top-h&&a.left>=m.left-g&&a.bottom<=m.bottom+h&&a.right<=m.right+g}return a.top>=0-h&&a.left>=0-g&&a.bottom<=(f.innerHeight||document.documentElement.clientHeight)+h&&a.right<=(f.innerWidth||document.documentElement.clientWidth)+g}return{bindViewportFirstVisibleEvent:function(e,
b){var d=e[0],h=c.$,g=function(){a(d)&&(b(),h(f).unbind("DOMContentLoaded load resize scroll",g))};h(f).bind("DOMContentLoaded load resize scroll",g)},isInViewport:a,VIEWPORT_CHANGE_EVENTS:"DOMContentLoaded load resize scroll",getWindowInnerDimensions:function(){return{width:f.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:f.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}}});"use strict";d.when("A","jQuery","ready").execute("jetset-heart-actions",
function(c,a){function e(c,a){c.removeClass("finds-state-save finds-state-saved").addClass(a);var b=c.parent();b.attr("aria-pressed","true"!==b.attr("aria-pressed"))}function b(a,b,e,f,h,d){var q=function(a,b){var g=b.status||0;if(a&&(a.succeeded||a.customerRequired))return f(a,b);if(p>=d||400<=g&&500>g)return h(a,b);c.delay(u,200*Math.pow(2,p))},p=0,v={params:e,method:b,success:function(a,c,b){return q(a,b.http||{})},failure:function(a){return q(k,a.http||{})}},u=function(){p+=1;c.ajax(a,v)};u()}
function f(a,d,r,n,l,k){n=function(b,f){if(!(401===f.status||b&&b.customerRequired)){var d=h[a],r=200!==f.status||b&&!b.succeeded,m="unsave"===d&&l.hasClass("finds-state-save");"save"===d&&l.hasClass("finds-state-saved");delete h[a];r&&(e(l,m?"finds-state-saved":"finds-state-save"),m?c.trigger("finds:hearts:on_heart_failed",l,a,"save"):c.trigger("finds:hearts:on_heart_failed",l,a,"unsave"))}};b(k+"_"+d,"POST",{itemId:a,itemType:d,curatorDirectedId:r},n,n,3)}var h={};c.declarative("finds-mini-detail-toggle-heart",
"click",function(a){var b=a.$currentTarget.find(".finds-heart-state"),d=a.data.itemId,n=a.data.itemType,l=a.data.curatorDirectedId,k=a.data.addHeartsUrl,q=a.data.removeHeartsUrl;d&&n&&!h[d]&&("unsave"===h[d]||b.hasClass("finds-state-saved")?(h[d]="unsave",e(b,"finds-state-save"),f(d,n,l,"unsave",b,q),c.trigger("finds:hearts:on_heart_state_changed",a,d,"unsave")):(h[d]="save",e(b,"finds-state-saved"),f(d,n,l,"save",b,k),c.trigger("finds:hearts:on_heart_state_changed",a,d,"save")))})})});